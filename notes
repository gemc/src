## Executable from scratch

	- select Project > Configurations > Add settings file

### Sources:

	- search for all *.cc
	
### Libraries:

- all within project

open $QTDIR/lib

	- QtCore.framework
	- QtGui.framework
	- QtWidgets.framework

open $CLHEP_BASE_DIR/lib/

	- libCLHEP-version.dylib

open $G4ROOT/$GEANT4_VERSION/lib/

	- all, remove symlinks make copies instead:
	rm libG4ptl.0.dylib ; cp libG4ptl.0.0.2.dylib libG4ptl.0.dylib
   rm libG4ptl.dylib ; cp libG4ptl.0.0.2.dylib libG4ptl.dylib



### In addition, these could only be copied only but xcode doesn't seem to remember
### and it's better to add to both linking and copy

Copy Files to Product Directory (no subpath)

Add all the external libraries


open $XERCESCROOT/lib/

	- libxerces-c-3.2.dylib

open $GLIBRARY/lib/

	- cadmesh, tet, IrrXML


examples > jcards

###  Running gemc in xcode:

Disable malloc check Edit Scheme > Diagnostic


### Pre-processor flags
 
	Used by geant4:
 
	- $G4INSTALL/bin/geant4-config --cflags
	
	Apple Clang > Preprocessing

	Each of the -D directive should be added with value = 1 (remember to remove the D)
	
	Example:
	-DG4VIS_USE_OPENGL becomes G4VIS_USE_OPENG=1



Options:

	add to Scheme > Run > Arguments
	
	
Environment:

Scheme > Arguments > Environment variables

	GEMCDB_ENV /opt/projects/gemc/sci-g/examples/geometry/


GEMC

 Code conventions
 - camel case for all variable names, class definitions
 - type definitions start with Capital Letter
 - instances start with lowercase letter
 - shared variables should contain "shared" / "global" in the name
 - thread-local variable should contain "local" / "tlocal" / "thread"  in the name



# Xcode testing

See https://hiltmon.com/blog/2019/02/09/testing-c-plus-plus-17-project-in-xcode-with-xctest/



## The rule of three:

If you need to explicitly declare either the destructor, copy constructor or copy assignment operator yourself,
you probably need to explicitly declare all three of them.
From C++11 on, an object has 2 extra special member functions: the move constructor and move assignment.
The rule of five states to implement these functions as well.

class person
{
    std::string name;
    int age;

public:
    person(const std::string& name, int age);        // Ctor
    person(const person &) = default;                // 1/5: Copy Ctor
    person(person &&) noexcept = default;            // 4/5: Move Ctor
    person& operator=(const person &) = default;     // 2/5: Copy Assignment
    person& operator=(person &&) noexcept = default; // 5/5: Move Assignment
    ~person() noexcept = default;                    // 3/5: Dtor
};





## Color on the output

- can be seen with

cat
less if LESS is set: export LESS=-Xr
grep


# gdetector libraries


// PRAGMA NOTE ConstructSDandField must be run on master thread as well
// or processHits will not happen (spent a day figuring this out)




# Seg fault: usually it's the plugin!!!

"gpluginsPath": "/opt/projects/gemc/src" :

cp /opt/projects/gemc/glibrary/lib/gstreamerTEXTFactory.gplugin .
cp ../sci-g/examples/6_CalorimeterAndHodoscope/ex6_1_calHodoDetector/plugin/ch.gplugin .




"gpluginsPath": "/Users/ungaro/builds": no need to copy, just rebuild the plugins





# Compile Geant4 Examples:


cmake -DGeant4_DIR=$G4INSTALL $G4INSTALL/source/geant4.10.07.p02/examples/extended/eventgenerator/exgps
